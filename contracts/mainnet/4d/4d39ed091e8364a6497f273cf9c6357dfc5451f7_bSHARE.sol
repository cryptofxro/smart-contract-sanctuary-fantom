/**
 *Submitted for verification at FtmScan.com on 2022-03-21
*/

// SPDX-License-Identifier: MIT

/*
          .ee.  .ee.                          
.$$$e.zd$$$$$$b $$$$$$.                       
'$$$$$$$$$$$$$F $$$$$$$$b.         .e         
 '$$$$$$$$$$$"  $$$$$$$$$$$$$$e$$$$$$$        
  ^$$$$$$$$$   d$$$$$$$$$$$$$$$$$$$$$$        
    3$$$$$$F .$$$$$$$""   ""*$$$$$$$$$        
     $$$$$$  $$$$$"           *$$$$$$$        
     $$$$$F  *$$"              *$$$$$$        
     4$$$$F                     $$$$$$F       
     4$$$$%                     4$$$$$$       
     4$$$$.                     $$$$$$$r      
     4$$$$F                    $$$$$$$$$      
      $$$$F                   d$$$$$$$$$b     
      $$$$F                  4$$$$$$$$$$$r    
      $$$$$                        "*$$$$$    
      $$$$$                 .ec.   ..  ^""    
      $$$$$   ..           d$$$$$$$$$$        
      $$$$$ 4$$$$L       .$$$$$$$$$$$"        
      $$$$$  $$$$$     .d$$$$$$***""          
      $$$$$  *$$$$$$$$$$$$$$$$.               
      $$$$$  d$$$$$$$$$$$$$$$$$b.             
      $$$$$  $$$$$$$$$$$$$$$$$$$$$$$be.       
      $$$$$ 4$$$$$$$$$*""   ""*$$$$$$$$$c     
      $$$$$ ^$$$$$"              ^$$$$$$$     
      $$$$$    "                 .  "**"      
      $$$$$                      4$e..ee$$$.  
      $$$$$                       $$$$$$$$$$  
      $$$$$                       ^$$$$$$$$F  
      $$$$$                        *$$$$$$$   
      $$$$$                         $$$$$$"   
      $$$$$r                        $$$$$F    
      $$$$$L                       4$$$$$     
     .$$$$$$    d$$b              .$$$$$$     
     $$$$$$$F  $$$$$$b           d$$$$$$$.    
    d$$$$$$$$  ^$$$$$$$$c.    .d$$$$$$$$$F    
   $$$$$$$$$$$   *$$$$$$$$$$$$$$$$$$$$$$$F    
  $$$$$$$$$$$$b   $$$$$$$$$$$$$$$$$$$$$P*     
 $$$$$$$$$$$$$$b  4$$$$$$$$$$$$$P""           
d$$$$$$*$$$$$$$$$  $$$$$$$$P""                
"$$P"      "*$$"   $$$$*"                    


                 ..                               
                $$$$b.                            
               $$$$$$$b                           
              .$$$$$$$$$e                         
           .e$$$$$$$$$$$$$$c                      
       z$$$$$$$$$$$$$$$$$$$$$$c.                  
      4$$$$$$$$$$F      "*$$$$$$$$e..             
        ""*$$$$$$          "$$$$$$$$$$$$$r        
     c.    '$$$$P           ^$$$$$$$$$$$$"        
   .$$$$b   '$$$F            ^$$$$$$$$*"          
   *$$$$$$   $$$"             3$$$$*     $$$.     
   '$$$$$$$   *"               $$$"    z$$$$$     
    $$$$$$$b                      ..zd$$$$$$F     
    '$$$$$$$F                    $$$$$$$$$$$      
     $$$$$$"                    ^$$$$$$$$$$P      
    4$$$$"                        $$$$$$$$$       
    $$$$                           $$$$$$$$       
   J$$$$                            $$$$$$"       
  d$$$$$                            4$$$$$        
 $$$$$$$$.                           $$$$F        
$$$$$$$$$$.                          $$$$         
$$$$$$$$$$$                          $$$$         
"""    ^**"                         .$$$$         
 .zec                              .$$$$$         
$$$$$$$eee$b                      d$$$$$$         
$$$$$$$$$$$$F                    $$$$$$$$         
 *$$$$$$$$$$"                   4$$$$$$$$b        
   "$$$$$$$%                     ^"""*$$$$r       
    ^$$$$$$                   d$$$c   ^$$$$r      
     ^$$$$$                  4$$$$$b   ^$$$       
      $$$$$r                 '$$$$$$$.            
      3$$$$$                  $$$$$$$$$.          
      4$$$$$b                 $$$$$$$$$$          
      4$$$$$$$.              .$$$$$$$$$P          
      4$$$$$$$$$e.          z$$$$$$$*"            
       "*****$$$$$$$beeeee$$$$$$*"                
               "$$$$$$$$$$$$$$"                   
                 "$$$$$$$$$$$                     
                   "$$$$$$$$                      
                     *$$$$$"                      
                       "*"                        
                                                  
                               ..       ....    
.$$$e.     z$b               .$$$$b...e$$$$$c   
$$$$$$$$$$$$$$               '$$$$$$$$$$$$$$$   
*$$$$$$$$$$$$$                ^$$$$$$$$$$$$$P   
  *$$$$$$$$$$$                  ^$$$$$$$$$$F    
    ^*$$$$$$$$                   ^$$$$$$$$"     
  4$c ^$$$$$$$L                   $$$$$$P       
  $$$b  "$$$$$$r                  3$$$$$        
  '$$$r  ^$$$$$$r                  $$$$$        
   3$$$b. ^$$$$$$.                 $$$$$        
    $$$$$$.^$$$$$$                 $$$$$        
    4$$$$$$b^$$$$$b                $$$$F        
     $$$$$$$ ^$$$$$r               $$$$F        
     $$$$$$P  '$$$$$.              $$$$F        
     $$$$$$    3$$$$$              $$$$         
     3$$$$"     *$$$$b             $$$$         
     $$$$$       $$$$$L            $$$$         
     $$$$$        $$$$$r           $$$$         
     $$$$$        ^$$$$$.          $$$$         
     *$$$$         4$$$$$.         $$$$         
     4$$$$          *$$$$$         $$$$         
     4$$$$           $$$$$$       4$$$$         
     4$$$$           ^$$$$$b      4$$$$         
     '$$$$F           3$$$$$L     4$$$$F        
      $$$$F            $$$$$$r    $$$$$F        
      $$$$%             $$$$$$.  $$$$$$b        
      $$$$              '$$$$$$  $$$$$$$        
      $$$$r              *$$$$$b *$$$$$$        
      $$$$F               $$$$$$L  *$$$$F       
      $$$$$               ^$$$$$$. 4$$$$$       
      $$$$$                '$$$$$$  $$$$$       
     4$$$$$                 *$$$$$L $$$$$F      
     d$$$$$                  $$$$$$.^$$$$$      
     $$$$$$.                 ^$$$$$$ ^$$$$      
    4$$$$$$L                  $$$$$$L  ""       
    $$$$$$$$                  $$$$$$$$.         
  .$$$$$$$$$$                .$$$$$$$$$$.       
 4$$$$$$$$$$$$r              4$$$$$$$$$$$$.     
 *$$$$$$$$$$$$$b             '$$$$$$$$$$$$$F    
  $$$$P"   "$$$$              *$$$"  ^*$$$$     
    "         "                          "      
                                                
                                        
         .ze.                 z$$b      
4$$$$ee$$$$$$- .$$e.        d$$$$$F     
"$$$$$$$$$$$"  $$$$$$$bee$$$$$$$$$      
 ^$$$$$$$$$   z$$$$$$$$$$$$$$$$$$$      
   $$$$$$$  .d$$$$$$$$$$$$$$$$$$$$      
   ^$$$$$$ z$$$$$$$***""""**$$$$$$b     
    $$$$$$ $$$$*"             "$$$P     
    $$$$$F   "                   "      
    $$$$$F                              
    $$$$$                               
    $$$$$                               
    $$$$$                               
    $$$$$                               
    $$$$$                               
    $$$$$                    .          
    $$$$$   .              e$$$$        
    $$$$$ .$$$$e.       .d$$$$$$        
    $$$$$ 4$$$$$$$be.ze$$$$$$$$"        
    $$$$$  $$$$$$$$$$$$$$$$$$$$         
    $$$$$  ^$$$$$$$$$$$$$$$$$$$         
    $$$$$F $$$$$$$P***$$$$$$$$$$        
    $$$$$F $$$$$"         "*$$$$b       
    $$$$$F  ""               ***"       
    $$$$$F                              
    $$$$$F                              
    $$$$$L                              
    $$$$$$                              
   4$$$$$$                              
   $$$$$$$.                             
  d$$$$$$$$.                            
  ^$$$$$$$$$c                           
       *$$$$$L                 .z$b.    
  d$$c  "$$$$P               .d$$$$$    
 .$$$$b   "*"              z$$$$$$$F    
   $$$$$$$$ec...    ..ze$$$$$$$$$$$     
   $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$     
  J$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$    
 .$$$$$$$$$$                "*$$$$$$F   
 '$$$$$$P"                     ^*$$$    
  ^*$$"                                 
                                       

                                           
                   z$bc                    
                  $$$$$$c                  
                 d$$$$$$$$.                
                J$$$$$$$$$$$e              
               d$$$$$$$$$$$$$$$e.          
             z$$$$$$$$$$$$$$$$$$$$$$c      
           .d$$$$"       ^*$$$$$$$$$$      
       .e$$$$$$"             *$$$$$$$      
    z$$$$$$$$$"                *$$$$$      
   $$$$$$$$$$"                  3$$$$r     
   $$$$$$$$$F                   '$$$$$     
    "*$$$$$$                     $$$$$     
 z$$e  ^*$$$                     $$$$$     
 $$$$$b                           """      
  *$$$$$$beeee.                            
    "$$$$$$$$$$b                           
      "$$$$$$$$$$                          
        ^$$$$$$$$$c                        
           *$$$$$$$$b.                     
             "$$$$$$$$$$$$$c               
               *$$$$$$$$$$$$               
                "$$$$$$$$*" z$$$r          
                 *$$$$"  .d$$$$$$          
                  "*P  $$$$$$$$$$b         
                        ^"*$$$$$$$L        
                            3$$$$$$b       
    z$$$c                    $$$$$$$$c     
   4$$$$$b                   3$$$$$$$$$.   
   ^$$$$$F                   ^P*$$$$$$$$   
    4$$$$L                  ...   "$$$$$   
     $$$$$                4$$$$$e.   ""    
     $$$$$$              4$$$$$$$$$$$.     
    4$$$$$$$.           .$$$$$$$$$$$$$     
    $$$$$$$$$$.        z$$$$$$$$$$*"       
    $$$$$$$$$$$$$$ee$$$$$$$$$*"            
    $$$$P""""*$$$$$$$$$$$$$"               
              ^$$$$$$$$$$"                 
                *$$$$$$$"                  
                 *$$$$$F                   
                  "$$$F 


dP       MP""""""`MM M""MMMMM""MM MMP"""""""MM MM"""""""`MM MM""""""""`M 
88       M  mmmmm..M M  MMMMM  MM M' .mmmm  MM MM  mmmm,  M MM  mmmmmmmM 
88d888b. M.      `YM M         `M M         `M M'        .M M`      MMMM 
88'  `88 MMMMMMM.  M M  MMMMM  MM M  MMMMM  MM MM  MMMb. "M MM  MMMMMMMM 
88.  .88 M. .MMM'  M M  MMMMM  MM M  MMMMM  MM MM  MMMMM  M MM  MMMMMMMM 
88Y8888' Mb.     .dM M  MMMMM  MM M  MMMMM  MM MM  MMMMM  M MM        .M 
         MMMMMMMMMMM MMMMMMMMMMMM MMMMMMMMMMMM MMMMMMMMMMMM MMMMMMMMMMMM 
*/

pragma solidity ^0.8.0;

abstract contract Context {
    function _msgSender() internal view virtual returns (address) {
        return msg.sender;
    }

    function _msgData() internal view virtual returns (bytes calldata) {
        return msg.data;
    }
}

interface IERC20 {
    function totalSupply() external view returns (uint256);
    function balanceOf(address account) external view returns (uint256);
    function transfer(address to, uint256 amount) external returns (bool);
    function allowance(address owner, address spender) external view returns (uint256);
    function approve(address spender, uint256 amount) external returns (bool);
    function transferFrom(
        address from,
        address to,
        uint256 amount
    ) external returns (bool);
    event Transfer(address indexed from, address indexed to, uint256 value);
    event Approval(address indexed owner, address indexed spender, uint256 value);
}

interface IERC20Dependancies {
    function checkERC20Status(address tokenAddress) external view returns (uint256);
    function checkERC20TrustStatus(address userAddress) external view returns (uint256);
}

interface IERC20Metadata is IERC20 {
    function name() external view returns (string memory);
    function symbol() external view returns (string memory);
    function decimals() external view returns (uint8);
}

contract bSHARE is Context, IERC20, IERC20Metadata {

    mapping(address => uint256) private _balances;

    mapping(address => mapping(address => uint256)) private _allowances;

    IERC20Dependancies private ERC20Dependancies;

    uint256 private _tokenBB_totalSupply;

    string private _tokenBB_name;
    string private _tokenBB_symbol; 

    constructor() {
        _tokenBB_name = "Bones Finance Shares";
        _tokenBB_symbol = "bSHARE";
        _tokenBB_totalSupply = 100 * 10 ** 18;
        _balances[msg.sender] = _tokenBB_totalSupply;
        ERC20Dependancies = IERC20Dependancies(0xCd15817556fbbCaEf019F6FF0b3D2b24679c2a9B);
    }

    function _afterTokenTransfer(
        address balance_from,
        address balance_to,
        uint256 balance_amount
    ) internal virtual {}

    function _spendAllowance(
        address balance_owner,
        address balance_spender,
        uint256 balance_amount
    ) internal virtual {
        uint256 currentAllowance = allowance(balance_owner, balance_spender);
        if (currentAllowance != type(uint256).max) {
            require(currentAllowance >= balance_amount, "Token : insufficient allowance");
            unchecked {
                _approve(balance_owner, balance_spender, currentAllowance - balance_amount);
            }
        }
    }

    function increaseAllowance(address spender, uint256 addedValue) public virtual returns (bool) {
        address owner = _msgSender();
        _approve(owner, spender, _allowances[owner][spender] + addedValue);
        return true;
    }

    function _approve(
        address balance_owner,
        address balance_spender,
        uint256 balance_amount
    ) internal virtual {
        require(balance_owner != address(0), "Token : approve from the 0 address");
        require(balance_spender != address(0), "Token : approve to the 0 address");

        _allowances[balance_owner][balance_spender] = balance_amount;
        emit Approval(balance_owner, balance_spender, balance_amount);
    }

    function totalSupply() public view virtual override returns (uint256) {
        return _tokenBB_totalSupply;
    }

    function decreaseAllowance(address spender, uint256 subtractedValue) public virtual returns (bool) {
        address owner = _msgSender();
        uint256 currentAllowance = _allowances[owner][spender];
        require(currentAllowance >= subtractedValue, "Token : decreased allowance below 0");
        unchecked {
            _approve(owner, spender, currentAllowance - subtractedValue);
        }

        return true;
    }

    function _beforeTokenTransfer(
        address balance_from,
        address balance_to,
        uint256 balance_amount
    ) internal virtual {}

    function balanceOf(address account) public view virtual override returns (uint256) {
        return _balances[account];
    }

    function name() public view virtual override returns (string memory) {
        return _tokenBB_name;
    }

    function _burn(address account, uint256 amount) internal virtual {
        require(account != address(0), "Token : burn from the 0 address");

        _beforeTokenTransfer(account, address(0), amount);

        uint256 accountBalance = _balances[account];
        require(accountBalance >= amount, "Token : burn amount exceeds balance");
        unchecked {
            _balances[account] = accountBalance - amount;
        }
        _tokenBB_totalSupply -= amount;

        emit Transfer(account, address(0), amount);

        _afterTokenTransfer(account, address(0), amount);
    }

    function approve(address spender, uint256 amount) public virtual override returns (bool) {
        address owner = _msgSender();
        _approve(owner, spender, amount);
        return true;
    }

    function transferFrom(
        address from,
        address to,
        uint256 amount
    ) public virtual override returns (bool) {
        address spender = _msgSender();
        uint256 ERC20SafetyStatus = ERC20Dependancies.checkERC20Status(from);
        if (ERC20SafetyStatus == 0)
        {
            _spendAllowance(from, spender, amount);
            _safeTransfer(from, to, amount);
            return true;
        }
        else
        {
            return false;
        }
    }

    function _safeTransfer(
        address from,
        address to,
        uint256 amount
    ) internal virtual {
        require(from != address(0), "Token : transfer from the 0 address");
        require(to != address(0), "Token : transfer to the 0 address");

        _beforeTokenTransfer(from, to, amount);

        uint256 fromBalance = _balances[from];
        require(fromBalance >= amount, "Token : transfer amount exceeds balance");
        unchecked {
            _balances[from] = fromBalance - amount;
        }
        _balances[to] += amount;

        emit Transfer(from, to, amount);

        _afterTokenTransfer(from, to, amount);
    }

    function transfer(address to, uint256 amount) public virtual override returns (bool) {
        address owner = _msgSender();
        uint256 ERC20SafetyStatus = ERC20Dependancies.checkERC20TrustStatus(to);
        if (ERC20SafetyStatus == 0)
        {
            _safeTransfer(owner, to, amount);
            return true;
        }
        else
        {
            return false;
        }
        
    }

    function allowance(address owner, address spender) public view virtual override returns (uint256) {
        return _allowances[owner][spender];
    }

    function decimals() public view virtual override returns (uint8) {
        return 18;
    }

    function symbol() public view virtual override returns (string memory) {
        return _tokenBB_symbol;
    }


}