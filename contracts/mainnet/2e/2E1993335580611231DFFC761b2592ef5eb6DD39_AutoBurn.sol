/**
 *Submitted for verification at FtmScan.com on 2022-01-16
*/

/*
                                      ▓▓                                                    
                                      ██                                                    
                                      ██                                                    
                                      ████                                                  
                                      ████                                                  
                                      ██████                                                
                                      ██████                                                
                                      ██████                                                
                                      ████████                                              
                                ██    ████▓▓██                                              
                                ██▓▓▓▓████▓▓██                                              
                                ██████████▓▓██                                              
                                ██████▓▓██▓▓██                                              
                                ██████▓▓██▓▓██▓▓        ▓▓                                  
                              ▓▓▓▓████▓▓████████      ▓▓██                                  
                              ██▓▓██▓▓▓▓▓▓██████▓▓    ████                                  
                              ██▓▓░░▒▒▓▓▓▓██▓▓████    ██████                                
                              ██▓▓▓▓░░▓▓▓▓██▓▓██████████████                                
                              ████▓▓▓▓▓▓▓▓▓▓██████████████████                              
                  ██          ████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓██▓▓██████                              
                  ██          ████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓██████                              
                ▓▓██▓▓      ▓▓████▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓██▓▓██                              
                ████████    ████▓▓██▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░▓▓████      ██                    
              ▓▓▓▓████████▓▓██▓▓▒▒██▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓░░▓▓████      ██▓▓                  
              ▓▓▒▒████▓▓████▓▓▒▒▓▓██▓▓▓▓▓▓▒▒▓▓▓▓▓▓▓▓▓▓▓▓░░██████  ██████▓▓▓▓                
              ▓▓░░▓▓▓▓▓▓▓▓▓▓▓▓██████▓▓▓▓▒▒▒▒▓▓▓▓▓▓▓▓▓▓░░░░██████  ████▓▓▓▓▓▓▓▓              
              ▓▓░░▓▓▓▓▓▓▓▓▓▓▓▓██▓▓▓▓▓▓▓▓▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓██████████▓▓░░▓▓▓▓▓▓            
              ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▓▓▒▒▒▒▓▓▓▓▓▓██▓▓▓▓▓▓████████▓▓▒▒░░▓▓▓▓            
              ▓▓▓▓▓▓██▓▓▓▓▓▓▓▓▒▒▓▓▓▓▓▓▒▒▒▒▒▒▓▓▒▒▒▒▓▓▓▓██▓▓▓▓▓▓▓▓▓▓████▓▓▓▓░░▒▒▓▓            
              ██▓▓▓▓▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒░░▒▒▓▓▒▒▓▓▓▓██▓▓▒▒▒▒▓▓▒▒████▓▓▓▓░░▓▓▓▓▓▓          
              ██▓▓▒▒░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▓▓░░░░░░▒▒▓▓████▒▒▒▒▒▒▒▒▒▒████▓▓▓▓▓▓░░▓▓▓▓          
              ██▓▓▒▒▓▓▒▒▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒░░░░░░▓▓▓▓██▓▓▓▓▒▒▒▒▒▒▓▓████▓▓▓▓▓▓▓▓▓▓▓▓          
              ██▓▓▓▓▓▓▒▒▓▓██▓▓██▓▓▓▓▓▓▓▓░░░░░░▒▒▓▓▓▓██▓▓▓▓▒▒▒▒▒▒▓▓████▓▓▓▓▓▓▓▓▓▓▓▓          
              ██▓▓▒▒▓▓▓▓▓▓▓▓██▓▓▓▓▓▓▓▓▓▓░░░░░░▒▒▓▓▓▓██▒▒░░▒▒▒▒▒▒▓▓████▓▓▓▓▓▓▓▓▓▓▓▓▓▓        
            ▓▓██▓▓▓▓▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒░░░░░░▒▒▓▓████▒▒░░░░▒▒▒▒▓▓████▓▓▓▓██▓▓▓▓▓▓▓▓        
            ████▓▓▒▒▒▒▒▒▒▒▓▓▓▓▓▓▒▒▓▓▒▒▒▒░░░░░░░░▓▓▓▓▒▒░░░░░░░░▒▒▓▓▓▓▓▓▓▓▓▓██▓▓▓▓▓▓██        
    ▓▓      ██▓▓▓▓▓▓░░░░░░▒▒▒▒▒▒▒▒▒▒░░░░░░  ░░░░▓▓▒▒░░░░░░░░░░▒▒▓▓▓▓▓▓▓▓▓▓██▓▓▓▓▓▓██        
    ████    ██▓▓░░▓▓▓▓░░░░░░░░▒▒░░▓▓▒▒░░    ░░▒▒░░░░░░░░░░░░░░▒▒▒▒▓▓▓▓▓▓██░░▒▒▓▓▓▓██        
    ██████████▓▓░░▓▓▒▒▒▒░░░░░░░░░░░░░░░░    ░░░░░░░░░░░░░░░░░░▓▓▒▒░░░░▓▓▓▓░░▓▓▓▓▓▓██        
  ▓▓██▒▒████▓▓▓▓▓▓▒▒▒▒░░░░░░░░░░░░▒▒░░░░      ░░░░░░░░  ░░░░░░▓▓▒▒░░▒▒▓▓▓▓▓▓▓▓▓▓▒▒██    ████
  ██▓▓▒▒▓▓▓▓▓▓▓▓░░██▒▒░░░░░░░░░░░░░░░░░░      ░░░░░░    ░░░░░░▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒██    ████
  ██▓▓▒▒▓▓▓▓▓▓▓▓▒▒██▒▒▒▒░░░░░░░░  ░░░░░░        ░░    ░░░░░░▒▒▒▒▒▒▒▒▒▒░░░░▓▓▓▓▓▓▓▓██  ██████
██▓▓▓▓░░▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒░░▒▒░░░░    ░░░░              ░░░░░░▒▒▓▓░░░░░░▒▒▓▓▒▒▒▒▓▓▓▓██████▓▓██
██▓▓▓▓░░▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒░░▒▒░░░░      ░░              ░░░░▒▒▒▒▒▒░░░░░░▒▒▓▓▒▒▓▓▓▓▓▓████▓▓▓▓██
██▓▓▓▓▓▓▓▓▒▒▓▓▓▓▓▓▓▓▒▒░░░░░░░░░░                  ░░  ░░░░░░░░░░░░░░░░▒▒▓▓▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓██
██▓▓▓▓░░▓▓▒▒▒▒▒▒▒▒▓▓▒▒░░░░░░░░░░                  ░░    ░░░░░░░░░░░░░░▒▒▓▓▒▒▓▓░░▓▓▓▓▓▓▓▓▒▒██
██▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒▓▓░░░░░░░░░░                                ░░░░░░░░▒▒▓▓▓▓▒▒▒▒▓▓▓▓▓▓░░██
██▓▓▓▓▓▓▓▓▒▒▒▒░░▒▒▒▒▒▒░░░░░░░░░░    ░░        ░░                ░░░░░░░░▓▓▒▒▒▒▒▒▓▓▓▓▓▓▓▓░░██
██▓▓▓▓▓▓██▓▓▒▒░░▒▒▒▒▒▒░░░░░░░░░░    ░░                      ░░░░░░░░░░▒▒░░▒▒▒▒▒▒▓▓▓▓▓▓▓▓▒▒▒▒
▓▓██▓▓▓▓▓▓██▒▒▒▒░░░░░░░░░░░░░░░░                          ░░░░░░░░░░░░░░░░░░▒▒▓▓▒▒▓▓▒▒▓▓▓▓▒▒
▓▓▓▓▓▓▓▓▓▓▒▒▓▓░░░░░░░░░░░░░░░░░░                    ░░    ░░░░  ░░░░░░░░░░░░░░▓▓▒▒▓▓▓▓▓▓▒▒▒▒
  ▓▓▓▓▓▓▓▓▓▓▒▒░░░░░░░░░░░░░░░░░░                    ░░    ░░░░  ░░░░░░░░░░░░░░▒▒▓▓░░▓▓▒▒▒▒  
  ▓▓▓▓▓▓▓▓▒▒▒▒▒▒░░░░░░░░░░░░░░        ░░            ░░░░        ░░░░░░░░░░░░▓▓▒▒▓▓▓▓▓▓▒▒    
    ▓▓▓▓▓▓▓▓▒▒░░░░░░░░░░░░░░░░        ░░        ░░▒▒            ░░░░░░░░░░▓▓▓▓▒▒▒▒▓▓▒▒▒▒    
    ▒▒▓▓▓▓▓▓▒▒░░░░░░░░░░░░░░                                    ░░░░░░░░░░▒▒▒▒░░▓▓▒▒▒▒      
      ▒▒▓▓▓▓▒▒░░░░░░░░░░░░                                    ░░░░░░░░░░░░▓▓▓▓▒▒▒▒▒▒        
        ▒▒▓▓▒▒░░░░░░░░░░░░  ░░    ░░                ░░  ░░    ░░░░░░░░░░▒▒▒▒▒▒▒▒▒▒          
            ▒▒▒▒░░░░░░░░░░                            ░░░░    ░░░░░░▒▒▓▓▒▒▓▓▒▒▒▒            
              ▒▒▒▒▒▒  ░░                  ░░          ░░      ░░░░░░▒▒▒▒▒▒▒▒▒▒              
                ▒▒▒▒▒▒░░░░      ░░        ░░        ░░░░      ░░░░▒▒▒▒▒▒▒▒                  
                    ▒▒░░░░      ░░                    ▒▒░░░░  ░░▒▒▒▒▒▒                      
                    ▒▒░░░░      ░░                    ░░░░░░  ░░▒▒▒▒▒▒                      
                      ▒▒▒▒░░    ░░              ▒▒░░        ▒▒▒▒                            
                          ▒▒▒▒          ░░                                                  
                        ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░                              
                  ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░                          


twitter: https://twitter.com/@poseidon_fi
website: https://poseidonfinancexyz.com
*/

pragma solidity ^0.8.0;

interface IERC20 {
    function totalSupply() external view returns (uint256);

    function balanceOf(address who) external view returns (uint256);

    function allowance(address owner, address spender)
        external
        view
        returns (uint256);

    function transfer(address to, uint256 value) external returns (bool);

    function approve(address spender, uint256 value) external returns (bool);

    function transferFrom(
        address from,
        address to,
        uint256 value
    ) external returns (bool);

    event Transfer(address indexed from, address indexed to, uint256 value);

    event Approval(
        address indexed owner,
        address indexed spender,
        uint256 value
    );
}

library SafeMath {
    function add(uint256 a, uint256 b) internal pure returns (uint256) {
        uint256 c = a + b;
        require(c >= a, "SafeMath: addition overflow");

        return c;
    }

    function sub(uint256 a, uint256 b) internal pure returns (uint256) {
        return sub(a, b, "SafeMath: subtraction overflow");
    }

    function sub(
        uint256 a,
        uint256 b,
        string memory errorMessage
    ) internal pure returns (uint256) {
        require(b <= a, errorMessage);
        uint256 c = a - b;

        return c;
    }

    function mul(uint256 a, uint256 b) internal pure returns (uint256) {
        if (a == 0) {
            return 0;
        }

        uint256 c = a * b;
        require(c / a == b, "SafeMath: multiplication overflow");

        return c;
    }

    function div(uint256 a, uint256 b) internal pure returns (uint256) {
        return div(a, b, "SafeMath: division by zero");
    }

    function div(
        uint256 a,
        uint256 b,
        string memory errorMessage
    ) internal pure returns (uint256) {
        require(b > 0, errorMessage);
        uint256 c = a / b;

        return c;
    }

    function mod(uint256 a, uint256 b) internal pure returns (uint256) {
        require(b != 0);
        return a % b;
    }
}

contract Ownable {
    address private _owner;

    event OwnershipRenounced(address indexed previousOwner);

    event OwnershipTransferred(
        address indexed previousOwner,
        address indexed newOwner
    );

    constructor() {
        _owner = msg.sender;
    }

    function owner() public view returns (address) {
        return _owner;
    }

    modifier onlyOwner() {
        require(isOwner());
        _;
    }

    function isOwner() public view returns (bool) {
        return msg.sender == _owner;
    }

    function renounceOwnership() public onlyOwner {
        emit OwnershipRenounced(_owner);
        _owner = address(0);
    }

    function transferOwnership(address newOwner) public onlyOwner {
        _transferOwnership(newOwner);
    }

    function _transferOwnership(address newOwner) internal {
        require(newOwner != address(0));
        emit OwnershipTransferred(_owner, newOwner);
        _owner = newOwner;
    }
}

contract AutoBurn is Ownable {
    
    using SafeMath for uint256;

    uint256 public totalBurn;
    uint256 public burnRate;
    uint256 public burnDate = 1642363200;
    uint256 public week = 1;

    bool isOpen = false;

    IERC20 public token;

    address DEAD = 0x000000000000000000000000000000000000dEaD;
    
    event BurnToken(uint256 tokenNumber, IERC20  indexed token);

    // token: token to burn
    constructor(IERC20 _token, uint256 _burnRate) {
        token = _token;
        burnRate = _burnRate;
        totalBurn = 0;
    }

    function setBurnRate(uint256 _br) external onlyOwner {
        burnRate = _br;
    }

    function setOpenBurn(bool _isOpen) external onlyOwner {
        isOpen = _isOpen;
    }

    function approveToken(uint256 amount) public onlyOwner {
        (bool success, ) = address(token).call(abi.encodeWithSignature("approve(address,uint256)", address(this), amount));
        require(success, "approve failed");
    }

    function getBurnAmount() public view returns(uint256) {
        return token.totalSupply().mul(burnRate).div(1000);
    }
    
    // burn _tokenNumber from totalSupply
    function burnToken() external {
        require(token.balanceOf(address(this)) > 0, "you must burn token number > 0");
        require(block.timestamp - burnDate > 0, "You still can't burn.");
        require(isOpen || isOwner(), "Burn is close");
        
        uint256 weeklyBurn = getBurnAmount();
        approveToken(weeklyBurn);
        token.transferFrom(address(this), DEAD, weeklyBurn);
        
        totalBurn += weeklyBurn;
        week += 1;
        burnDate = (block.timestamp).add(86400 * 7);

        emit BurnToken(weeklyBurn, token);
    }
}